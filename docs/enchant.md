# アウェイキングブルームのエンチャントを実装する

公式情報によればアウェイキングブルームのエンチャントは以下の通り
```
スペシャル(キョウ)

第1エンチャント(第4スロット：精錬値6以上)
SpecialStr、SpecialAgi、SpecialVit、SpecialInt、SpecialDex、SpecialLuk、潜在覚醒(アースストレインI)、潜在覚醒(アースドライブI)、潜在覚醒(アックストルネードI)、潜在覚醒(アックスブーメランI)、潜在覚醒(アドラムスI)、潜在覚醒(アローストームII)、潜在覚醒(イグニッションブレイクII)、潜在覚醒(イヌハッカメテオI)、潜在覚醒(インスピレーションI)、潜在覚醒(ヴェラチュールスピアーI)、潜在覚醒(エイムドボルトI)、潜在覚醒(エスパI)、潜在覚醒(カートキャノンI)、潜在覚醒(カートトルネードI)、潜在覚醒(キャノンスピアI)、潜在覚醒(キャロットビートI)、潜在覚醒(クリムゾンロックI)、潜在覚醒(クロスリッパースラッシャーI)、潜在覚醒(サイキックウェーブI)、潜在覚醒(サベージの魂II)、潜在覚醒(シールドプレスI)、潜在覚醒(シビアレインストームII)、潜在覚醒(ジャックフロストII)、潜在覚醒(ジュデックスII)、潜在覚醒(スペルフィストI)、潜在覚醒(スポアエクスプロージョンI)、潜在覚醒(ソウルエクスパンションI)、潜在覚醒(ソニックウェーブI)、潜在覚醒(トライアングルショットI)、潜在覚醒(バニシングポイントI)、潜在覚醒(パワースイングI)、潜在覚醒(ファイアーレインI)、潜在覚醒(フェイタルメナスI)、潜在覚醒(ヘルインフェルノI)、潜在覚醒(マタタビランスI)、潜在覚醒(メタリックサウンドI)、潜在覚醒(ラウンドトリップI)、潜在覚醒(レイオブジェネシスI)、潜在覚醒(ローリングカッターI)、潜在覚醒(獅子吼II)、潜在覚醒(十文字斬りI)、潜在覚醒(死霊爆発I)、潜在覚醒(太陽爆発I)、潜在覚醒(天羅地網I)、潜在覚醒(爆気散弾I)、潜在覚醒(風魔手裏剣 -乱華-I)、潜在覚醒(満月脚II)、潜在覚醒(雷光弾I)、潜在覚醒(流星落下I)

第2エンチャント(第3スロット：精錬値8以上)
SpecialStr、SpecialAgi、SpecialVit、SpecialInt、SpecialDex、SpecialLuk、潜在覚醒(アースストレインI)、潜在覚醒(アースドライブI)、潜在覚醒(アックストルネードI)、潜在覚醒(アックスブーメランI)、潜在覚醒(アドラムスI)、潜在覚醒(アローストームII)、潜在覚醒(イグニッションブレイクII)、潜在覚醒(イヌハッカメテオI)、潜在覚醒(インスピレーションI)、潜在覚醒(ヴェラチュールスピアーI)、潜在覚醒(エイムドボルトI)、潜在覚醒(エスパI)、潜在覚醒(カートキャノンI)、潜在覚醒(カートトルネードI)、潜在覚醒(キャノンスピアI)、潜在覚醒(キャロットビートI)、潜在覚醒(クリムゾンロックI)、潜在覚醒(クロスリッパースラッシャーI)、潜在覚醒(サイキックウェーブI)、潜在覚醒(サベージの魂II)、潜在覚醒(シールドプレスI)、潜在覚醒(シビアレインストームII)、潜在覚醒(ジャックフロストII)、潜在覚醒(ジュデックスII)、潜在覚醒(スペルフィストI)、潜在覚醒(スポアエクスプロージョンI)、潜在覚醒(ソウルエクスパンションI)、潜在覚醒(ソニックウェーブI)、潜在覚醒(トライアングルショットI)、潜在覚醒(バニシングポイントI)、潜在覚醒(パワースイングI)、潜在覚醒(ファイアーレインI)、潜在覚醒(フェイタルメナスI)、潜在覚醒(ヘルインフェルノI)、潜在覚醒(マタタビランスI)、潜在覚醒(メタリックサウンドI)、潜在覚醒(ラウンドトリップI)、潜在覚醒(レイオブジェネシスI)、潜在覚醒(ローリングカッターI)、潜在覚醒(獅子吼II)、潜在覚醒(十文字斬りI)、潜在覚醒(死霊爆発I)、潜在覚醒(太陽爆発I)、潜在覚醒(天羅地網I)、潜在覚醒(爆気散弾I)、潜在覚醒(風魔手裏剣 -乱華-I)、潜在覚醒(満月脚II)、潜在覚醒(雷光弾I)、潜在覚醒(流星落下I)

第3エンチャント(第2スロット：精錬値10以上)
覇王、暴走した魔力、大鷲の眼光、豪傑、真理の解放、死の欲動
```

いくつかのエンチャントは card.dat.js に定義済みなので cardId を参照するだけで良い
```
[659,99,"SpecialStr","",1,1,8000001,3,9000080,1,0],
[599,99,"SpecialAgi","",2,1,8000002,3,9000080,1,0],
[660,99,"SpecialVit","",3,1,8000003,3,9000016,1,0],
[661,99,"SpecialInt","",4,1,8000004,3,9000089,1,0],
[662,99,"SpecialDex","",5,1,8000005,3,9000089,1,0],
[663,99,"SpecialLuk","",6,1,8000006,3,9000015,1,0],
[1297,99,"覇王","物理攻撃命中時、一定確率で5秒間、Str+200、モンスター「ランデル=ロレンス」(パラディン)に変身。",0],
[888,99,"暴走した魔力","魔法攻撃命中時、一定確率で10秒間、[暴走した魔力]発動<BR>[暴走した魔力]発動時、Int + 200、1秒毎にSP - 200",0],
[1303,99,"大鷲の眼光","物理攻撃命中時、一定確率で5秒間、[大鷲の眼光]発動<BR>[大鷲の眼光]発動時、Dex + 200、1秒毎にSP - 50",0],
[1348,99,"豪傑","物理攻撃命中時、一定確率で10秒間、完全回避+100、物理攻撃時、ボスモンスターに与えるダメージ+100%。",0],
[1245,99,"真理の解放","魔法攻撃命中時、一定確率で10秒間、完全回避+100、魔法攻撃時、ボスモンスターに与えるダメージ+100%、モンスター「カトリーヌ=ケイロン」(ハイウィザード)に変身。",0],
[1450,99,"死の欲動","物理攻撃命中時、一定確率で10秒間、Flee+150、スキルディレイ-100%、モンスター「エレメス=ガイル」(アサシンクロス)に変身。",0],
```

問題となるのはアウェイキングブルームで新規追加された潜在覚醒エンチャント

公式情報より
```
-----------------
潜在覚醒(ジュデックスII)
-----------------
BaseLvが2上がる度に追加で[ジュデックス]で与えるダメージ + 1%
―――――――――――――
[真理の解放]と共に装備時、追加で[ジュデックス]使用時、一定確率で自分にオートスペル[セイフティウォール]Lv3発動
[セイフティウォール]の習得Lvが4以上の場合、習得Lvで発動
```

ここで同様の効果を持つロイヤルクレリックスタッフのアイテム定義は以下の通りである
```
[4303,9,148,60,2474,1,30,185,"ロイヤルクレリックスタッフ","ロイヤルクレリツクスタツフ","精錬値が1上がる度に追加で、一部のダメージを反射する効果で受けるダメージ - 10%(計算機未対応)",88,180,194,1,20000007005478,1,20000009005476,1,0],
```

20000009005476,1 が「精錬値9以上のときBaseLvが2上がる度にジュデックスのダメージ+1%」だと推察できるので
card.dat.js に以下のような新たなエンチャントを定義する

```
[2743,99,"潜在覚醒(ジュデックスII)","",20000000005476,1,0],
```

これにより mig.enchlist.dat.js に追加する定義は以下の通りとなる
```
[
    620,-1,0,0,
    [["スペシャルエンチャント（キョウ）","C3y4C2h1I3A4J5D2h1J5D5B2h3A3"]],
    [],
    [[
        [174,[50,[4994]]],,
        [
            [
                [178,[27,[4]]],,
                [[
                    [187,[59,6],[60,4]],
                    ,
                    [[[186,[51,[659,599,660,661,662,663,2743]]],,[]]]
                ]]
            ],
            [
                [178,[27,[3]]],,
                [[
                    [187,[59,8],[60,4]],
                    ,
                    [[[186,[51,[659,599,660,661,662,663,2743]]],,[]]]
                ]]
            ],
            [
                [178,[27,[2]]],,
                [[
                    [187,[59,10],[60,4]],
                    ,
                    [[[186,[51,[1297,888,1303,1348,1245,1450]]],,[]]]
                ]]
            ]
        ]
    ]],
    []
],
```
